# Pipeline configuration for Fetch + OCR stage
# This pipeline: Azure Blob → Fetch → OCR → Index

name: "fetch_ocr"
description: "Fetch PDFs from Azure and extract text with OCR"

# Input
input:
  type: "azure_manifest"  # or "azure_blob" for direct listing
  manifest_path: "./manifests/azure_blobs.jsonl"
  limit: null  # Set to number for testing, null for production

# Fetch settings
fetch:
  download_dir: "./data/fetched"
  cache_enabled: true
  max_retries: 3

# OCR settings
ocr:
  mode: "document"  # "document" or "page"
  split_pages: false  # Set true if mode="page"
  server_url: "http://localhost:8000"
  batch_size: 1
  timeout: 600

# Output
output:
  index_dir: "./data/ocr_index"
  format: "jsonl"
  compression: "gz"

# Executor
executor:
  tasks: 4
  workers: 2
  resume: true
